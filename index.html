<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>카카오 지도</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
      html, body, #map {
        margin: 0;
        padding: 0;
        width: 100%;
        height: 100%;
      }
    </style>
    <script src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=f723177a920b33c1e3971e5c58b6ff90&autoload=false"></script>
  </head>
  <body>
    <div id="map"></div>
    <script>
      let map; // 전역 선언

      kakao.maps.load(function () {
        const container = document.getElementById('map');
        const options = {
          center: new kakao.maps.LatLng(37.5665, 126.9780), // 기본 중심: 서울
          level: 7
        };
        map = new kakao.maps.Map(container, options);
      });

      function renderMarkers(data, category) {
  const markerImageUrl =
    category === '관광지'
      ? 'https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/marker_red.png'
      : 'https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/marker_blue.png';

  const markerSize = new kakao.maps.Size(40, 40);

  data.forEach((item) => {
    if (!item.lat || !item.lon) return;

    const markerPosition = new kakao.maps.LatLng(item.lat, item.lon);
    const marker = new kakao.maps.Marker({
      map: map,
      position: markerPosition,
      title: item.name,
      image: new kakao.maps.MarkerImage(markerImageUrl, markerSize),
    });

    const infowindow = new kakao.maps.InfoWindow({
      content: `<div style="padding:6px 12px;font-size:14px;">${item.name}</div>`,
    });

    kakao.maps.event.addListener(marker, 'mouseover', function () {
      infowindow.open(map, marker);
    });

    kakao.maps.event.addListener(marker, 'mouseout', function () {
      infowindow.close();
    });
  });
}


      // Flutter에서 호출할 함수
      function moveToRegion(region) {
        const coords = {
          '경주': new kakao.maps.LatLng(35.8562, 129.2247),
          '제주': new kakao.maps.LatLng(33.4996, 126.5312),
          '부산': new kakao.maps.LatLng(35.1796, 129.0756),
          '평창': new kakao.maps.LatLng(37.3704, 128.3899),
        };
        if (coords[region]) {
          map.setCenter(coords[region]);
        }
      }
    </script>
  </body>
</html>
